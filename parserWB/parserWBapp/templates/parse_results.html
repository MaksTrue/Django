{% extends 'base.html' %}

{% block title %}Результаты парсинга{% endblock %}

{% block content %}
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <h1>Результаты парсинга</h1>
                {% if category %}
                    <p><strong>Категория:</strong> {{ category }} удачно выгружена, результаты своих запросов можете
                        найти шиже в списке.</p>
                {% endif %}
                {% if parsed_data %}
                <ul>
                    {% for data in parsed_data %}
                        <li>
                            <strong>Категория:</strong> {{ data.category }}<br>
                            <strong>Артикул:</strong> {{ data.article }}<br>
                            <strong>Наименование:</strong> {{ data.name }}<br>
                            <strong>Рейтинг:</strong> {{ data.rating }}<br>
                            <strong>Количество отзывов:</strong> {{ data.review_count }}<br>
                            <strong>Цена:</strong> {{ data.price }}<br>
                            <strong>Ссылка на магазин:</strong> <a href="{{ data.url }}">Ссылка</a><br><br>
                        </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
            <div class="pagination">
                 <span class="step-links">
                      {% if page_obj.has_previous %}
                            <a href="?page={{ page_obj.previous_page_number }}"> <-- </a>
                      {% endif %}

                 <span class="current">
                                Страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}.
                 </span>

                       {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}"> --> </a>
                       {% endif %}
                 </span>
            </div>
{% endblock %}
